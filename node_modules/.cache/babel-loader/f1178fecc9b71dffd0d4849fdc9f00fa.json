{"ast":null,"code":"var _jsxFileName = \"/home/hayabusa/Documents/WebDevelopment/Modern_React_Redux/season_geotracking/src/Components/App.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport SeasonDisplay from './SeasonDisplay';\nimport './SeasonDisplay.css';\nimport Loader from './loader.js';\nimport LocationData from \"./LocationData\";\nimport WeatherCard from \"./WeatherCard\";\nimport \"./App.css\"; // This app focuses on `class`-based components in react and their additional capabilities, including an introduction to `state` and `props`.\n\n/* `App` written as a `functional` component:\nconst App = () => {\n\treturn (\n\t\t<div>\n\t\t\t<h1>Hi Kieran</h1>\n\t\t\t<SeasonDisplay />\n\t\t</div>\n\t);\n};\n*/\n// React expects `class` components to have multiple methods attached to it, making it a better option for complex components. Extending `React.Component` imports several built-in methods to the new component and borrows functionality. `class` components can also access `state`.\n\n/* ***Rules of `Class` Components:\n\tMust be a JavaScript class;\n\tMust `extend` (subclass) React.Component (imports built-in methods);\n\tMust Define a `render` method that will `return` some JSX (used for output onto windows);\n*/\n\n/* *** Component LifeCycle: Creation to Removal\n\t1. constructor\n\t2. render\n\t \t* content visible on screen; HAVE TO DEFINE\n\t3. componentDidMount\n\t\t* automatically called when component first shows up in app;\n\t\tSit and wait for updates to data on page;\n\t4. componentDidUpdate\n\t\t* called automatically when component changes;\n\t\tsit and wait until component is no longer shown\n\t5. componentWillUnmount\n*/\n\n/* *** Component LifeCycle Methods\n\tExamples of when to use Lifecycle Methods:\n\t\tconstructor(props) : good place for one-time setup and state initialization; avoid data loading, used `componentDidMount` instead;\n\t\trender() : avoid doing anything BESIDES returning JSX;\n\t\tcomponentDidMount() : initial data loading for components, outside processes (ex: current position, API requests, etc); only loads once, upon mount;\n\t\tcomponentDidUpdate: called EVERY TIME a component updates; data-loading when state/props change (network request, input changes, etc.);\n\t\tcomponentWillUnmount() : clean-up data;\n\t\t***Other LifeCycle Methods (not often used):\n\t\tshouldComponentUpdate()\n\t\tgetDerivedStateFromProps()\n\t\tgetSnapshotBeforeUpdate()\n*/\n\n/* *** Rules of `State`:\n\tOnly usable with `class` components (unless using `hooks`, more later);\n\tEasily confused with `props` (more on `props` later);\n\t`state` is a JavaScript object that contains data relevant to a component;\n\tUpdating `state` on a component causes the component to instantly re-render;\n\t`state` must be initialized when a component is created;\n\t`state` can only be updated using the function `setState()`;\n*/\n// console.log(process.env.REACT_APP_WEATHER_API_KEY);\n//\n// console.log(process.env.REACT_APP_GOOGLE_MAPS_API_KEY);\n// `App` written as `class`- based component:\n\nclass App extends React.Component {\n  // `constructor()` from JS. `constructor` is called any time an instance of a class is created. used in React to set initial `state`.\n  // `constructor` is not required unless building additional setup for app.\n  constructor(props) {\n    super(props); // `super` used to set initial `state` in React\n    // `state` is created inside a JS object (`{...}`)\n    // create `this.state` to track `state` across the app.\n    // direct assignment to `state` in ONLY done when INITIALIZING `state`;\n\n    this.state = {\n      lat: null,\n      long: null,\n      mapData: [],\n      weatherForecast: [],\n      errorMessage: null\n    };\n    /* Can also set initial state in a single line, w/o having to use constructor method:\n    state = { lat: null, long: null, errorMessage: null };\n    */\n  }\n\n  async componentDidMount() {\n    // use built-in browser function to get `geolocation` for user\n    // this was initially built into the `constructor` so that when the class is created, it will immediately begin working on requesting the data (in this case from the browser), but was moved into `componentDidMount()`, as it is a better lifeCycle method to use for initial data loading.\n    await window.navigator.geolocation.getCurrentPosition(position => {\n      // called `setState` to update `lat` and `long`\n      this.setState({\n        lat: position.coords.latitude\n      });\n      this.setState({\n        long: position.coords.longitude\n      });\n    }, // make sure to `console.log(error)` any time any errors may pop up in your code (easier debugging)\n    error => this.setState({\n      errorMessage: error.message\n    }));\n    await axios.get(\"http://api.weatherapi.com/v1/forecast.json\", {\n      params: {\n        key: \"48f162a78e4f4a62865190945190412\",\n        days: 5,\n        q: {\n          lat: `${this.state.lat}`,\n          lon: `${this.state.long}`\n        }\n      }\n    }).then(res => {\n      console.log(res);\n      this.setState({\n        weatherForecast: res.data.forecast.forecastday\n      });\n    }); // API retrieved via `fetch`\n    // const response = await fetch(\"http://api.weatherapi.com/v1/forecast.json?key=48f162a78e4f4a62865190945190412&q=chicago&days=5\")\n    // // convert results to JSON\n    // const data = await response.json();\n    // this.setState({ weatherForecast: data.forecast.forecastday });\n  } // componentDidUpdate() {\n  // \tconsole.log('Component Updated')\n  // }\n  // componentWillUnmount() {\n  // \tconsole.log('Component Unmounted')\n  // }\n\n\n  renderContent() {\n    // `if` statements are helpful for Conditional Rendering...\n    if (this.state.errorMessage || !this.state.lat) {\n      return React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"Error: \", this.state.errorMessage);\n    } else if (!this.state.errorMessage && this.state.lat) {\n      return (// `state` can be passed down to children components as `props`\n        React.createElement(\"div\", {\n          id: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(SeasonDisplay, {\n          lat: this.state.lat,\n          long: this.state.long,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          id: \"localForecast\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 140\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          id: \"locationData\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(LocationData, {\n          lat: this.state.lat,\n          long: this.state.long,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          id: \"weatherCards\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, React.createElement(WeatherCard, {\n          weatherForecast: this.state.weatherForecast,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 148\n          },\n          __self: this\n        }))))\n      );\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(Loader, {\n      message: \"Waiting on You...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      id: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, this.renderContent());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/home/hayabusa/Documents/WebDevelopment/Modern_React_Redux/season_geotracking/src/Components/App.js"],"names":["React","axios","SeasonDisplay","Loader","LocationData","WeatherCard","App","Component","constructor","props","state","lat","long","mapData","weatherForecast","errorMessage","componentDidMount","window","navigator","geolocation","getCurrentPosition","position","setState","coords","latitude","longitude","error","message","get","params","key","days","q","lon","then","res","console","log","data","forecast","forecastday","renderContent","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport SeasonDisplay from './SeasonDisplay';\nimport './SeasonDisplay.css';\nimport Loader from './loader.js';\nimport LocationData from \"./LocationData\";\nimport WeatherCard from \"./WeatherCard\";\nimport \"./App.css\";\n\n// This app focuses on `class`-based components in react and their additional capabilities, including an introduction to `state` and `props`.\n/* `App` written as a `functional` component:\nconst App = () => {\n\treturn (\n\t\t<div>\n\t\t\t<h1>Hi Kieran</h1>\n\t\t\t<SeasonDisplay />\n\t\t</div>\n\t);\n};\n*/\n// React expects `class` components to have multiple methods attached to it, making it a better option for complex components. Extending `React.Component` imports several built-in methods to the new component and borrows functionality. `class` components can also access `state`.\n/* ***Rules of `Class` Components:\n\tMust be a JavaScript class;\n\tMust `extend` (subclass) React.Component (imports built-in methods);\n\tMust Define a `render` method that will `return` some JSX (used for output onto windows);\n*/\n/* *** Component LifeCycle: Creation to Removal\n\t1. constructor\n\t2. render\n\t \t* content visible on screen; HAVE TO DEFINE\n\t3. componentDidMount\n\t\t* automatically called when component first shows up in app;\n\t\tSit and wait for updates to data on page;\n\t4. componentDidUpdate\n\t\t* called automatically when component changes;\n\t\tsit and wait until component is no longer shown\n\t5. componentWillUnmount\n*/\n/* *** Component LifeCycle Methods\n\tExamples of when to use Lifecycle Methods:\n\t\tconstructor(props) : good place for one-time setup and state initialization; avoid data loading, used `componentDidMount` instead;\n\t\trender() : avoid doing anything BESIDES returning JSX;\n\t\tcomponentDidMount() : initial data loading for components, outside processes (ex: current position, API requests, etc); only loads once, upon mount;\n\t\tcomponentDidUpdate: called EVERY TIME a component updates; data-loading when state/props change (network request, input changes, etc.);\n\t\tcomponentWillUnmount() : clean-up data;\n\t\t***Other LifeCycle Methods (not often used):\n\t\tshouldComponentUpdate()\n\t\tgetDerivedStateFromProps()\n\t\tgetSnapshotBeforeUpdate()\n*/\n/* *** Rules of `State`:\n\tOnly usable with `class` components (unless using `hooks`, more later);\n\tEasily confused with `props` (more on `props` later);\n\t`state` is a JavaScript object that contains data relevant to a component;\n\tUpdating `state` on a component causes the component to instantly re-render;\n\t`state` must be initialized when a component is created;\n\t`state` can only be updated using the function `setState()`;\n*/\n\n// console.log(process.env.REACT_APP_WEATHER_API_KEY);\n//\n// console.log(process.env.REACT_APP_GOOGLE_MAPS_API_KEY);\n\n// `App` written as `class`- based component:\nclass App extends React.Component {\n\t// `constructor()` from JS. `constructor` is called any time an instance of a class is created. used in React to set initial `state`.\n\t// `constructor` is not required unless building additional setup for app.\n\tconstructor(props) {\n\t\tsuper(props); // `super` used to set initial `state` in React\n\t\t// `state` is created inside a JS object (`{...}`)\n\t\t// create `this.state` to track `state` across the app.\n\t\t// direct assignment to `state` in ONLY done when INITIALIZING `state`;\n\t\tthis.state = {\n\t\t\tlat: null,\n\t\t\tlong: null,\n\t\t\tmapData: [],\n\t\t\tweatherForecast: [],\n\t\t\terrorMessage: null\n\t\t}\n\t\t/* Can also set initial state in a single line, w/o having to use constructor method:\n\t\tstate = { lat: null, long: null, errorMessage: null };\n\t\t*/\n\t}\n\n\tasync componentDidMount() {\n\t\t// use built-in browser function to get `geolocation` for user\n\t\t// this was initially built into the `constructor` so that when the class is created, it will immediately begin working on requesting the data (in this case from the browser), but was moved into `componentDidMount()`, as it is a better lifeCycle method to use for initial data loading.\n\t\tawait window.navigator.geolocation.getCurrentPosition(\n\t\t\t(position) => {\n\t\t\t\t// called `setState` to update `lat` and `long`\n\t\t\t\tthis.setState({ lat: position.coords.latitude });\n\t\t\t\tthis.setState({ long: position.coords.longitude });\n\t\t\t},\n\t\t\t// make sure to `console.log(error)` any time any errors may pop up in your code (easier debugging)\n\t\t\t(error) => this.setState({ errorMessage: error.message })\n\t\t);\n\n\t\tawait axios.get(\"http://api.weatherapi.com/v1/forecast.json\", {\n\t\t\tparams: {\n\t\t\t\tkey: \"48f162a78e4f4a62865190945190412\",\n\t\t\t\tdays: 5,\n\t\t\t\tq: {\n\t\t\t\t\tlat: `${this.state.lat}`,\n\t\t\t\t\tlon: `${this.state.long}`\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.setState({ weatherForecast: res.data.forecast.forecastday });\n\t\t\t});\n\n\n// API retrieved via `fetch`\n\t\t// const response = await fetch(\"http://api.weatherapi.com/v1/forecast.json?key=48f162a78e4f4a62865190945190412&q=chicago&days=5\")\n\t\t// // convert results to JSON\n\t\t// const data = await response.json();\n\t\t// this.setState({ weatherForecast: data.forecast.forecastday });\n\t}\n\n\t// componentDidUpdate() {\n\t// \tconsole.log('Component Updated')\n\t// }\n\t// componentWillUnmount() {\n\t// \tconsole.log('Component Unmounted')\n\t// }\n\n\trenderContent() {\n\t\t// `if` statements are helpful for Conditional Rendering...\n\t\tif(this.state.errorMessage || !this.state.lat) {\n\t\t\treturn <h2>Error: {this.state.errorMessage}</h2>;\n\t\t} else if (!this.state.errorMessage && this.state.lat) {\n\t\t\treturn (\n\t\t\t\t// `state` can be passed down to children components as `props`\n\t\t\t\t\t<div id=\"container\">\n\t\t\t\t\t\t<SeasonDisplay\n\t\t\t\t\t\t\tlat={this.state.lat}\n\t\t\t\t\t\t\tlong={this.state.long}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div id=\"localForecast\">\n\t\t\t\t\t\t\t<div id=\"locationData\">\n\t\t\t\t\t\t\t\t<LocationData\n\t\t\t\t\t\t\t\t\tlat={this.state.lat}\n\t\t\t\t\t\t\t\t\tlong={this.state.long}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div id=\"weatherCards\">\n\t\t\t\t\t\t\t\t<WeatherCard\n\t\t\t\t\t\t\t\t\tweatherForecast={this.state.weatherForecast}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t);\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<Loader message=\"Waiting on You...\" />\n\t\t\t</div>\n\t\t)\n\t};\n\n\trender() {\n\t\treturn (\n\t\t\t<div id=\"container\">\n\t\t\t\t{this.renderContent()}\n\t\t\t</div>\n\t\t)\n\t}\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}